<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Modal de Edición de Perfil</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/estilos.css') }}">
    <link rel="icon" href="{{ url_for('static', filename='imagenes/recursos/logo-jes.png') }}">
</head>

<body>
    <main class="modals-container" id="modal-container-editar">
        <section id="section-editar">
            <span class="close">&times;</span>
            <form action="/admin/actualizar_estudiantes/" method="post" enctype="multipart/form-data"
                class="form-container form-container-corto">
                <fieldset>
                    <legend>Editar Perfil del Estudiante</legend>
                    <div id="contenedor-flex-editar-usuario">
                        <input type="hidden" name="id_estudiante" value="{{ estudiante.id_estudiante }}">
                        <div class="form-group form-group-img">
                            <div class="subir-imagen-registro">
                                <div class="imagen-registro-preview" id="preview">
                                    <!-- Previsualización de imagen -->
                                    <img src="/{{estudiante.imagen_perfil}}"
                                        alt="imagen: {{estudiante.nombre}} {{estudiante.apellidos}}" id="currentImage">
                                </div>
                                <label for="subir-imagen" class="btn-subir-imagen" id="btnSubirImagen">Subir Imagen</label>
                                <input type="file" id="subir-imagen" name="imagen_perfil" accept="image/*"
                                    onchange="previewImage(event)">
                            </div>
                        </div>
                        <div class="form-group form-group-arreglado">
                            <label for="nombre">Nombre:</label>
                            <input value="{{ estudiante.nombre }}" type="text" id="nombre" name="nombre" required>
                        </div>
                        <div class="form-group form-group-arreglado">
                            <label for="apellidos">Apellidos:</label>
                            <input value="{{ estudiante.apellidos }}" type="text" id="apellidos" name="apellidos" required>
                        </div>
                        <div class="form-group form-group-arreglado">
                            <label for="fecha_nacimiento">Fecha de Nacimiento:</label>
                            <input value="{{ estudiante.fecha_nacimiento }}" type="text" id="fecha_nacimiento"
                                name="fecha_nacimiento" required>
                        </div>
                        <div class="form-group form-group-arreglado">
                            <label for="curso">Curso:</label>
                            <input type="hidden" id="id_curso" name="id_curso" value="{{ estudiante.id_curso }}">
                            <select id="nombre_curso" name="nombre_curso" onchange="updateCursoId()">
                                {% for curso in cursos %}
                                <option value="{{ curso.id_curso }}" {% if curso.id_curso==estudiante.id_curso %}selected{%
                                    endif %}>
                                    {{ curso.nombre }}
                                </option>
                                {% endfor %}
                            </select>
                        </div>
                        <div class="form-group form-group-arreglado">
                            <label for="matricula">Matrícula:</label>
                            <input value="{{ estudiante.matricula }}" type="text" id="matricula" name="matricula" required>
                        </div>
                        <div class="form-group form-group-arreglado">
                            <label for="direccion">Direccion:</label>
                            <input value="{{ estudiante.direccion }}" type="text" id="direccion" name="direccion" required>
                        </div>
                        <div class="form-group form-group-arreglado">
                            <label for="genero">Genero:</label>
                            <input value="{{ estudiante.genero }}" type="text" id="genero" name="genero" required>
                        </div>
                        <div class="form-group form-group-arreglado">
                            <label for="email">Correo Electrónico:</label>
                            <input value="{{ estudiante.email }}" type="email" id="email" name="email" required>
                        </div>
                        <div class="form-group form-group-arreglado">
                            <label for="telefono">Telefono:</label>
                            <input value="{{ estudiante.telefono }}" type="tel" id="telefono" name="telefono" required>
                        </div>
                        <div class="form-group form-group-arreglado">
                            <label for="contrasena">Contraseña:</label>
                            <input value="{{ estudiante.contraseña }}" type="text" id="contraseña" name="contraseña"
                                required>
                        </div>
                        <div id="btn-cambios">
                            <button type="submit" class="btn-guardar-cambios">Guardar Cambios</button>                              
                        </div>
                    </div>
                </fieldset>
            </form>
        </section>
    </main>
    <script src="{{ url_for('static', filename='js/select-editar-datos.js') }}"></script>
    <script src="../../static/js/a-visualizar_imagenes.js"></script>
    <script src="{{ url_for('static', filename='js/perfil.js') }}"></script>
</body>

</html>